% -----------------------------------------------
% Template for ISMIR Papers
% 2015 version, based on previous ISMIR templates
% -----------------------------------------------

\documentclass{article}
\usepackage{ismir,amsmath,cite}
\usepackage{graphicx}
\usepackage{color}
\usepackage{mathrsfs}

% Title.
% ------
\title{Learning invariants for polyphonic instrument recognition}


% Single address
% To use with only one author or several with the same address
% ---------------
%\oneauthor
% {Names should be omitted for double-blind reviewing}
% {Affiliations should be omitted for double-blind reviewing}

% Two addresses
% --------------
%\twoauthors
%  {First author} {School \\ Department}
%  {Second author} {Company \\ Address}

% Three addresses
% --------------
\threeauthors
  {First author} {Affiliation1 \\ {\tt author1@ismir.edu}}
  {Second author} {\bf Retain these fake authors in\\\bf submission to preserve the formatting}
  {Third author} {Affiliation3 \\ {\tt author3@ismir.edu}}

% Four addresses
% --------------
%\fourauthors
%  {First author} {Affiliation1 \\ {\tt author1@ismir.edu}}
%  {Second author}{Affiliation2 \\ {\tt author2@ismir.edu}}
%  {Third author} {Affiliation3 \\ {\tt author3@ismir.edu}}
%  {Fourth author} {Affiliation4 \\ {\tt author4@ismir.edu}}

\begin{document}
%
\maketitle
%
\begin{abstract}
The abstract should be placed at the top left column and should contain about 150-200 words.
\end{abstract}
%

\section{Introduction}\label{sec:introduction}
% On music instrument classification
% Ref to Joder et al
% Ref to Fuhrmann

% On feature learning
% Ref to Dieleman and Benjamin ICASSP 2014
% Ref to Humphrey, Bello, LeCun 2012
% Ref to Salamon and Bello
% Ref to Li, Qian, and Wang arXiv 2015

\section{Deep convolutional networks}
\subsection{Time-frequency representation}
% Ref to librosa, McFee et al. Scipy 2015
We used the implementation from the librosa package \cite{McFee2015} with $Q=12$ filters per octave, center frequencies $\lambda_1$ ranging from 55 Hz to 14 kHz (8 octaves from A1 to A9), and a hop size of 23 ms. Furthermore, we applied perceptual weighting of loudness in order to reduce the dynamic range between the fundamental partial and its upper harmonics.
\begin{equation}
\boldsymbol{x_1}(t, \lambda_1) = \mathbf{A}(\lambda_1) + 10 \log \vert x \ast \psi_{\lambda_1} \vert (t)
\end{equation}

% Give a formula for CQT
% Conversion to mono
% Perceptual weighting of loudness

\subsection{Architecture}
% Explain how convolutions work

\begin{equation}
\boldsymbol{y_2}(t,\lambda_1) =
(\boldsymbol{x_1}
\ast
\boldsymbol{w_{\lambda_2}})(t,\lambda_1)
\end{equation}

where
$\boldsymbol{w_{\lambda_2}}(t,\lambda_1)$
is a shorthand for
 $\boldsymbol{W_2}(t, \lambda_1, \lambda_2)$.

% Explain leaky ReLUs
% Explain how pooling works
% Make a figure

\subsection{Training}
% Random crops
% Categorical cross-entropy
The network is trained on categorical cross-entropy with \emph{Adam} \cite{Kingma2015}, a state-of-the-art stochastic optimizer for gradient-based learning.

\begin{equation}
\mathscr{L}(\mathbf{h}_{\boldsymbol{\ell}}, Y) = - \sum_{y \in Y} \log \mathbf{h}_{\boldsymbol{\ell}}(y)
\end{equation}
% Adam optimizer
% Shuffled examples with uniform class distribution
% Mini-batch learning
% Dropout

\section{Deep supervision of melodic contour}
\subsection{Disentangling pitch from timbre}
% Source-filter equation
% Ref to LeCun on disentangling factors of variability
% Ref to deeply supervised nets
% Ref to NIPS 2015
% Ref to Mallat 2016

\subsection{Extraneous supervision}
% Equation that sums over k2
% Make a figure

\subsection{Joint supervision}
% Different equation
% Comment extraneous vs joint
% Visualization to compare learned filters


\section{Single-instrument classification}\label{sec:single-instrument}
\subsection{Experimental design}
In order to evaluate the proposed algorithms, we used MedleyDB \cite{Bittner2014}, a dataset of 122 multitracks annotated with instrument activations as well as melodic $f_0$ curves when present. 

\subsection{Results}


\section{Polyphonic classification}\label{sec:polyphonic}
\subsection{Experimental design}

\subsection{Results}


\section{Conclusions}

% For bibtex users:
\bibliography{ISMIR2015template}

\end{document}
